{"id":"../node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","dependencies":[{"name":"/data/uibuilder/navbar/package.json","includedInParent":true,"mtime":1654946937447},{"name":"/data/uibuilder/navbar/node_modules/bootstrap-vue/package.json","includedInParent":true,"mtime":1651564048996},{"name":"../../vue","loc":{"line":7,"column":20,"index":1110},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/vue.js"},{"name":"../../constants/components","loc":{"line":8,"column":36,"index":1159},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/components.js"},{"name":"../../constants/env","loc":{"line":9,"column":27,"index":1216},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/env.js"},{"name":"../../constants/events","loc":{"line":10,"column":57,"index":1296},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/events.js"},{"name":"../../constants/props","loc":{"line":11,"column":114,"index":1436},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/props.js"},{"name":"../../utils/bv-event.class","loc":{"line":12,"column":24,"index":1485},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/bv-event.class.js"},{"name":"../../utils/dom","loc":{"line":13,"column":39,"index":1554},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/dom.js"},{"name":"../../utils/inspect","loc":{"line":14,"column":47,"index":1620},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/inspect.js"},{"name":"../../utils/loose-equal","loc":{"line":15,"column":27,"index":1670},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/loose-equal.js"},{"name":"../../utils/math","loc":{"line":16,"column":24,"index":1721},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/math.js"},{"name":"../../utils/number","loc":{"line":17,"column":26,"index":1767},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/number.js"},{"name":"../../utils/object","loc":{"line":18,"column":31,"index":1820},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/object.js"},{"name":"../../utils/props","loc":{"line":19,"column":77,"index":1919},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/props.js"},{"name":"../../utils/router","loc":{"line":20,"column":40,"index":1980},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/router.js"},{"name":"../../utils/string","loc":{"line":21,"column":25,"index":2027},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/string.js"},{"name":"../../utils/warn","loc":{"line":22,"column":21,"index":2070},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/warn.js"},{"name":"../../mixins/pagination","loc":{"line":23,"column":58,"index":2148},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/mixins/pagination.js"},{"name":"../link/link","loc":{"line":24,"column":36,"index":2211},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/pagination-nav/pagination-nav.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/link/link.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitizeNumberOfPages = exports.BPaginationNav = void 0;\n\nvar _vue = require(\"../../vue\");\n\nvar _components = require(\"../../constants/components\");\n\nvar _env = require(\"../../constants/env\");\n\nvar _events = require(\"../../constants/events\");\n\nvar _props = require(\"../../constants/props\");\n\nvar _bvEvent = require(\"../../utils/bv-event.class\");\n\nvar _dom = require(\"../../utils/dom\");\n\nvar _inspect = require(\"../../utils/inspect\");\n\nvar _looseEqual = require(\"../../utils/loose-equal\");\n\nvar _math = require(\"../../utils/math\");\n\nvar _number = require(\"../../utils/number\");\n\nvar _object = require(\"../../utils/object\");\n\nvar _props2 = require(\"../../utils/props\");\n\nvar _router = require(\"../../utils/router\");\n\nvar _string = require(\"../../utils/string\");\n\nvar _warn = require(\"../../utils/warn\");\n\nvar _pagination = require(\"../../mixins/pagination\");\n\nvar _link3 = require(\"../link/link\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n// --- Helper methods ---\n// Sanitize the provided number of pages (converting to a number)\nvar sanitizeNumberOfPages = function sanitizeNumberOfPages(value) {\n  return (0, _math.mathMax)((0, _number.toInteger)(value, 0), 1);\n}; // --- Props ---\n\n\nexports.sanitizeNumberOfPages = sanitizeNumberOfPages;\n\nvar _linkProps = (0, _object.omit)(_link3.props, ['event', 'routerTag']);\n\nvar props = (0, _props2.makePropsConfigurable)((0, _object.sortKeys)(_objectSpread(_objectSpread(_objectSpread({}, _pagination.props), _linkProps), {}, {\n  baseUrl: (0, _props2.makeProp)(_props.PROP_TYPE_STRING, '/'),\n  linkGen: (0, _props2.makeProp)(_props.PROP_TYPE_FUNCTION),\n  // Disable auto page number detection if `true`\n  noPageDetect: (0, _props2.makeProp)(_props.PROP_TYPE_BOOLEAN, false),\n  numberOfPages: (0, _props2.makeProp)(_props.PROP_TYPE_NUMBER_STRING, 1,\n  /* istanbul ignore next */\n  function (value) {\n    var number = (0, _number.toInteger)(value, 0);\n\n    if (number < 1) {\n      (0, _warn.warn)('Prop \"number-of-pages\" must be a number greater than \"0\"', _components.NAME_PAGINATION_NAV);\n      return false;\n    }\n\n    return true;\n  }),\n  pageGen: (0, _props2.makeProp)(_props.PROP_TYPE_FUNCTION),\n  // Optional array of page links\n  pages: (0, _props2.makeProp)(_props.PROP_TYPE_ARRAY),\n  useRouter: (0, _props2.makeProp)(_props.PROP_TYPE_BOOLEAN, false)\n})), _components.NAME_PAGINATION_NAV); // --- Main component ---\n// @vue/component\n\nvar BPaginationNav = /*#__PURE__*/_vue.Vue.extend({\n  name: _components.NAME_PAGINATION_NAV,\n  // The render function is brought in via the pagination mixin\n  mixins: [_pagination.paginationMixin],\n  props: props,\n  computed: {\n    // Used by render function to trigger wrapping in '<nav>' element\n    isNav: function isNav() {\n      return true;\n    },\n    computedValue: function computedValue() {\n      // Returns the value prop as a number or `null` if undefined or < 1\n      var value = (0, _number.toInteger)(this.value, 0);\n      return value < 1 ? null : value;\n    }\n  },\n  watch: {\n    numberOfPages: function numberOfPages() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.setNumberOfPages();\n      });\n    },\n    pages: function pages() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.setNumberOfPages();\n      });\n    }\n  },\n  created: function created() {\n    this.setNumberOfPages();\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    if (this.$router) {\n      // We only add the watcher if vue router is detected\n      this.$watch('$route', function () {\n        _this3.$nextTick(function () {\n          (0, _dom.requestAF)(function () {\n            _this3.guessCurrentPage();\n          });\n        });\n      });\n    }\n  },\n  methods: {\n    setNumberOfPages: function setNumberOfPages() {\n      var _this4 = this;\n\n      if ((0, _inspect.isArray)(this.pages) && this.pages.length > 0) {\n        this.localNumberOfPages = this.pages.length;\n      } else {\n        this.localNumberOfPages = sanitizeNumberOfPages(this.numberOfPages);\n      }\n\n      this.$nextTick(function () {\n        _this4.guessCurrentPage();\n      });\n    },\n    onClick: function onClick(event, pageNumber) {\n      var _this5 = this; // Dont do anything if clicking the current active page\n\n\n      if (pageNumber === this.currentPage) {\n        return;\n      }\n\n      var target = event.currentTarget || event.target; // Emit a user-cancelable `page-click` event\n\n      var clickEvt = new _bvEvent.BvEvent(_events.EVENT_NAME_PAGE_CLICK, {\n        cancelable: true,\n        vueTarget: this,\n        target: target\n      });\n      this.$emit(clickEvt.type, clickEvt, pageNumber);\n\n      if (clickEvt.defaultPrevented) {\n        return;\n      } // Update the `v-model`\n      // Done in in requestAF() to allow browser to complete the\n      // native browser click handling of a link\n\n\n      (0, _dom.requestAF)(function () {\n        _this5.currentPage = pageNumber;\n\n        _this5.$emit(_events.EVENT_NAME_CHANGE, pageNumber);\n      }); // Emulate native link click page reloading behaviour by blurring the\n      // paginator and returning focus to the document\n      // Done in a `nextTick()` to ensure rendering complete\n\n      this.$nextTick(function () {\n        (0, _dom.attemptBlur)(target);\n      });\n    },\n    getPageInfo: function getPageInfo(pageNumber) {\n      if (!(0, _inspect.isArray)(this.pages) || this.pages.length === 0 || (0, _inspect.isUndefined)(this.pages[pageNumber - 1])) {\n        var link = \"\".concat(this.baseUrl).concat(pageNumber);\n        return {\n          link: this.useRouter ? {\n            path: link\n          } : link,\n          text: (0, _string.toString)(pageNumber)\n        };\n      }\n\n      var info = this.pages[pageNumber - 1];\n\n      if ((0, _inspect.isObject)(info)) {\n        var _link = info.link;\n        return {\n          // Normalize link for router use\n          link: (0, _inspect.isObject)(_link) ? _link : this.useRouter ? {\n            path: _link\n          } : _link,\n          // Make sure text has a value\n          text: (0, _string.toString)(info.text || pageNumber)\n        };\n      } else {\n        return {\n          link: (0, _string.toString)(info),\n          text: (0, _string.toString)(pageNumber)\n        };\n      }\n    },\n    makePage: function makePage(pageNumber) {\n      var pageGen = this.pageGen;\n      var info = this.getPageInfo(pageNumber);\n\n      if ((0, _props2.hasPropFunction)(pageGen)) {\n        return pageGen(pageNumber, info);\n      }\n\n      return info.text;\n    },\n    makeLink: function makeLink(pageNumber) {\n      var linkGen = this.linkGen;\n      var info = this.getPageInfo(pageNumber);\n\n      if ((0, _props2.hasPropFunction)(linkGen)) {\n        return linkGen(pageNumber, info);\n      }\n\n      return info.link;\n    },\n    linkProps: function linkProps(pageNumber) {\n      var props = (0, _props2.pluckProps)(_linkProps, this);\n      var link = this.makeLink(pageNumber);\n\n      if (this.useRouter || (0, _inspect.isObject)(link)) {\n        props.to = link;\n      } else {\n        props.href = link;\n      }\n\n      return props;\n    },\n    resolveLink: function resolveLink() {\n      var to = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; // Given a to (or href string), convert to normalized route-like structure\n      // Works only client side!\n\n      var link;\n\n      try {\n        // Convert the `to` to a HREF via a temporary `a` tag\n        link = document.createElement('a');\n        link.href = (0, _router.computeHref)({\n          to: to\n        }, 'a', '/', '/'); // We need to add the anchor to the document to make sure the\n        // `pathname` is correctly detected in any browser (i.e. IE)\n\n        document.body.appendChild(link); // Once href is assigned, the link will be normalized to the full URL bits\n\n        var _link2 = link,\n            pathname = _link2.pathname,\n            hash = _link2.hash,\n            search = _link2.search; // Remove link from document\n\n        document.body.removeChild(link); // Return the location in a route-like object\n\n        return {\n          path: pathname,\n          hash: hash,\n          query: (0, _router.parseQuery)(search)\n        };\n      } catch (e) {\n        /* istanbul ignore next */\n        try {\n          link && link.parentNode && link.parentNode.removeChild(link);\n        } catch (_unused) {}\n        /* istanbul ignore next */\n\n\n        return {};\n      }\n    },\n    resolveRoute: function resolveRoute() {\n      var to = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; // Given a to (or href string), convert to normalized route location structure\n      // Works only when router available!\n\n      try {\n        var route = this.$router.resolve(to, this.$route).route;\n        return {\n          path: route.path,\n          hash: route.hash,\n          query: route.query\n        };\n      } catch (e) {\n        /* istanbul ignore next */\n        return {};\n      }\n    },\n    guessCurrentPage: function guessCurrentPage() {\n      var $router = this.$router,\n          $route = this.$route;\n      var guess = this.computedValue; // This section only occurs if we are client side, or server-side with `$router`\n\n      if (!this.noPageDetect && !guess && (_env.IS_BROWSER || !_env.IS_BROWSER && $router)) {\n        // Current route (if router available)\n        var currentRoute = $router && $route ? {\n          path: $route.path,\n          hash: $route.hash,\n          query: $route.query\n        } : {}; // Current page full HREF (if client side)\n        // Can't be done as a computed prop!\n\n        var loc = _env.IS_BROWSER ? window.location || document.location : null;\n        var currentLink = loc ? {\n          path: loc.pathname,\n          hash: loc.hash,\n          query: (0, _router.parseQuery)(loc.search)\n        } :\n        /* istanbul ignore next */\n        {}; // Loop through the possible pages looking for a match until found\n\n        for (var pageNumber = 1; !guess && pageNumber <= this.localNumberOfPages; pageNumber++) {\n          var to = this.makeLink(pageNumber);\n\n          if ($router && ((0, _inspect.isObject)(to) || this.useRouter)) {\n            // Resolve the page via the `$router`\n            guess = (0, _looseEqual.looseEqual)(this.resolveRoute(to), currentRoute) ? pageNumber : null;\n          } else if (_env.IS_BROWSER) {\n            // If no `$router` available (or `!this.useRouter` when `to` is a string)\n            // we compare using parsed URIs\n            guess = (0, _looseEqual.looseEqual)(this.resolveLink(to), currentLink) ? pageNumber : null;\n          } else {\n            // Probably SSR, but no `$router` so we can't guess,\n            // so lets break out of the loop early\n\n            /* istanbul ignore next */\n            guess = -1;\n          }\n        }\n      } // We set `currentPage` to `0` to trigger an `$emit('input', null)`\n      // As the default for `currentPage` is `-1` when no value is specified\n      // Valid page numbers are greater than `0`\n\n\n      this.currentPage = guess > 0 ? guess : 0;\n    }\n  }\n});\n\nexports.BPaginationNav = BPaginationNav;"},"sourceMaps":null,"error":null,"hash":"7dc66054421502b8f8824e91d484010d","cacheData":{"env":{}}}