{"id":"../node_modules/bootstrap-vue/esm/components/image/img-lazy.js","dependencies":[{"name":"/data/uibuilder/navbar/package.json","includedInParent":true,"mtime":1654946937447},{"name":"/data/uibuilder/navbar/node_modules/bootstrap-vue/package.json","includedInParent":true,"mtime":1651564048996},{"name":"../../vue","loc":{"line":9,"column":20,"index":1123},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/vue.js"},{"name":"../../constants/components","loc":{"line":10,"column":30,"index":1166},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/components.js"},{"name":"../../constants/env","loc":{"line":11,"column":49,"index":1245},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/env.js"},{"name":"../../constants/events","loc":{"line":12,"column":40,"index":1308},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/events.js"},{"name":"../../constants/props","loc":{"line":13,"column":77,"index":1411},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/constants/props.js"},{"name":"../../utils/array","loc":{"line":14,"column":23,"index":1459},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/array.js"},{"name":"../../utils/identity","loc":{"line":15,"column":25,"index":1505},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/identity.js"},{"name":"../../utils/number","loc":{"line":16,"column":26,"index":1555},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/number.js"},{"name":"../../utils/object","loc":{"line":17,"column":21,"index":1598},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/object.js"},{"name":"../../utils/props","loc":{"line":18,"column":60,"index":1680},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/utils/props.js"},{"name":"../../directives/visible/visible","loc":{"line":19,"column":26,"index":1727},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/directives/visible/visible.js"},{"name":"./img","loc":{"line":20,"column":41,"index":1804},"parent":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img-lazy.js","resolved":"/data/uibuilder/navbar/node_modules/bootstrap-vue/esm/components/image/img.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.props = exports.BImgLazy = void 0;\n\nvar _vue = require(\"../../vue\");\n\nvar _components = require(\"../../constants/components\");\n\nvar _env = require(\"../../constants/env\");\n\nvar _events = require(\"../../constants/events\");\n\nvar _props = require(\"../../constants/props\");\n\nvar _array = require(\"../../utils/array\");\n\nvar _identity = require(\"../../utils/identity\");\n\nvar _number = require(\"../../utils/number\");\n\nvar _object = require(\"../../utils/object\");\n\nvar _props2 = require(\"../../utils/props\");\n\nvar _visible = require(\"../../directives/visible/visible\");\n\nvar _img = require(\"./img\");\n\nvar _watch;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n// --- Constants ---\nvar MODEL_PROP_NAME_SHOW = 'show';\nvar MODEL_EVENT_NAME_SHOW = _events.MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_SHOW; // --- Props ---\n\nvar imgProps = (0, _object.omit)(_img.props, ['blank']);\nvar props = (0, _props2.makePropsConfigurable)(_objectSpread(_objectSpread({}, imgProps), {}, _defineProperty({\n  blankColor: (0, _props2.makeProp)(_props.PROP_TYPE_STRING, 'transparent'),\n  blankHeight: (0, _props2.makeProp)(_props.PROP_TYPE_NUMBER_STRING),\n  // If `null`, a blank image is generated\n  blankSrc: (0, _props2.makeProp)(_props.PROP_TYPE_STRING, null),\n  blankWidth: (0, _props2.makeProp)(_props.PROP_TYPE_NUMBER_STRING),\n  // Distance away from viewport (in pixels)\n  // before being considered \"visible\"\n  offset: (0, _props2.makeProp)(_props.PROP_TYPE_NUMBER_STRING, 360)\n}, MODEL_PROP_NAME_SHOW, (0, _props2.makeProp)(_props.PROP_TYPE_BOOLEAN, false))), _components.NAME_IMG_LAZY); // --- Main component ---\n// @vue/component\n\nexports.props = props;\n\nvar BImgLazy = /*#__PURE__*/_vue.Vue.extend({\n  name: _components.NAME_IMG_LAZY,\n  directives: {\n    'b-visible': _visible.VBVisible\n  },\n  props: props,\n  data: function data() {\n    return {\n      isShown: this[MODEL_PROP_NAME_SHOW]\n    };\n  },\n  computed: {\n    computedSrc: function computedSrc() {\n      var blankSrc = this.blankSrc;\n      return !blankSrc || this.isShown ? this.src : blankSrc;\n    },\n    computedBlank: function computedBlank() {\n      return !(this.isShown || this.blankSrc);\n    },\n    computedWidth: function computedWidth() {\n      var width = this.width;\n      return this.isShown ? width : this.blankWidth || width;\n    },\n    computedHeight: function computedHeight() {\n      var height = this.height;\n      return this.isShown ? height : this.blankHeight || height;\n    },\n    computedSrcset: function computedSrcset() {\n      var srcset = (0, _array.concat)(this.srcset).filter(_identity.identity).join(',');\n      return !this.blankSrc || this.isShown ? srcset : null;\n    },\n    computedSizes: function computedSizes() {\n      var sizes = (0, _array.concat)(this.sizes).filter(_identity.identity).join(',');\n      return !this.blankSrc || this.isShown ? sizes : null;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME_SHOW, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      // If `IntersectionObserver` support is not available, image is always shown\n      var visible = _env.HAS_INTERACTION_OBSERVER_SUPPORT ? newValue : true;\n      this.isShown = visible; // Ensure the show prop is synced (when no `IntersectionObserver`)\n\n      if (visible !== newValue) {\n        this.$nextTick(this.updateShowProp);\n      }\n    }\n  }), _defineProperty(_watch, \"isShown\", function isShown(newValue, oldValue) {\n    // Update synched show prop\n    if (newValue !== oldValue) {\n      this.updateShowProp();\n    }\n  }), _watch),\n  mounted: function mounted() {\n    // If `IntersectionObserver` is not available, image is always shown\n    this.isShown = _env.HAS_INTERACTION_OBSERVER_SUPPORT ? this[MODEL_PROP_NAME_SHOW] : true;\n  },\n  methods: {\n    updateShowProp: function updateShowProp() {\n      this.$emit(MODEL_EVENT_NAME_SHOW, this.isShown);\n    },\n    doShow: function doShow(visible) {\n      // If IntersectionObserver is not supported, the callback\n      // will be called with `null` rather than `true` or `false`\n      if ((visible || visible === null) && !this.isShown) {\n        this.isShown = true;\n      }\n    }\n  },\n  render: function render(h) {\n    var directives = [];\n\n    if (!this.isShown) {\n      var _modifiers; // We only add the visible directive if we are not shown\n\n\n      directives.push({\n        // Visible directive will silently do nothing if\n        // IntersectionObserver is not supported\n        name: 'b-visible',\n        // Value expects a callback (passed one arg of `visible` = `true` or `false`)\n        value: this.doShow,\n        modifiers: (_modifiers = {}, _defineProperty(_modifiers, \"\".concat((0, _number.toInteger)(this.offset, 0)), true), _defineProperty(_modifiers, \"once\", true), _modifiers)\n      });\n    }\n\n    return h(_img.BImg, {\n      directives: directives,\n      props: _objectSpread({\n        // Computed value props\n        src: this.computedSrc,\n        blank: this.computedBlank,\n        width: this.computedWidth,\n        height: this.computedHeight,\n        srcset: this.computedSrcset || null,\n        sizes: this.computedSizes || null\n      }, (0, _props2.pluckProps)(imgProps, this.$props))\n    });\n  }\n});\n\nexports.BImgLazy = BImgLazy;"},"sourceMaps":null,"error":null,"hash":"5b33894246c94f80da576db88c272feb","cacheData":{"env":{}}}